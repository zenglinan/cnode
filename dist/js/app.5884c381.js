(function(t){function a(a){for(var s,i,o=a[0],c=a[1],l=a[2],p=0,f=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(a);while(f.length)f.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,o=1;o<e.length;o++){var c=e[o];0!==n[c]&&(s=!1)}s&&(r.splice(a--,1),t=i(i.s=e[0]))}return t}var s={},n={app:0},r=[];function i(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=s,i.d=function(t,a,e){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)i.d(e,s,function(a){return t[a]}.bind(null,s));return e},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var u=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0180":function(t,a,e){"use strict";var s=e("7ef5"),n=e.n(s);n.a},"02a2":function(t,a,e){},"034f":function(t,a,e){"use strict";var s=e("85ec"),n=e.n(s);n.a},5464:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("4de4"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Header"),e("div",{staticClass:"main"},[e("router-view",{attrs:{name:"slidebar"}}),e("router-view",{attrs:{name:"main"}})],1)],1)},r=[],i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("header",{staticClass:"header"},[s("div",{staticClass:"container"},[s("router-link",{attrs:{to:{name:"root"}}},[s("a",{staticClass:"img",attrs:{href:"#"}},[s("img",{attrs:{src:e("d686")}})])]),s("ul",[s("li",[s("router-link",{attrs:{to:{name:"root"}}},[t._v("首页")])],1),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4)])],1)])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("新手入门")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("API")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("关于")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("注册")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("登录")])])}],c={name:"Header"},l=c,u=(e("65aa"),e("2877")),p=Object(u["a"])(l,i,o,!1,null,"102dc213",null),f=p.exports,_=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"wrapper"},[t.isLoading?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("cf1c")}})]):s("div",[s("ul",[t._m(0),t._l(t.posts,(function(a){return s("li",[s("router-link",{attrs:{to:{name:"user_info",params:{id:a.id,name:a.author.loginname}}}},[s("img",{staticClass:"portrait",attrs:{src:a.author.avatar_url}})]),t._v(" "),s("span",{staticClass:"count-wrapper"},[s("span",{staticClass:"reply-count"},[t._v(t._s(a.reply_count))]),s("span",{staticClass:"visit-count"},[t._v("/")]),s("span",{staticClass:"visit-count"},[t._v(t._s(a.visit_count))])]),s("span",{class:[{put_top:1==a.top,put_good:1==a.good,put_tab:1!=a.top&&1!=a.good}]},[t._v(t._s(t._f("formatType")(a)))]),s("router-link",{attrs:{to:{name:"post_content",params:{id:a.id,name:a.author.loginname}}}},[s("span",{staticClass:"title"},[t._v(t._s(a.title))])]),s("span",{staticClass:"reply-time"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)})),s("Pagination",{on:{handleList:t.renderList}})],2)])])},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"main-header"},[e("span",[t._v("全部")]),e("span",[t._v("精华")]),e("span",[t._v("分享")]),e("span",[t._v("问答")]),e("span",[t._v("招聘")]),e("span",[t._v("客户端测试")])])}],v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pagination"},[e("ul",[e("li",{on:{click:t.changeBtn}},[t._v("首页")]),e("li",{on:{click:t.changeBtn}},[t._v("上一页")]),t.judge?e("li",{staticClass:"pagebtn"},[t._v("...")]):t._e(),t._l(t.pagebtns,(function(a){return e("li",{ref:"btn"+a,refInFor:!0,class:[{currentPage:a==t.currentPage},"pagebtn"],on:{click:function(e){return t.changeBtn(a)}}},[t._v(t._s(a))])})),e("li",{staticClass:"pagebtn"},[t._v("...")]),e("li",{on:{click:t.changeBtn}},[t._v("下一页")])],2)])},h=[],m=(e("a434"),{name:"Pagination",data:function(){return{pagebtns:[1,2,3,4,5],currentPage:1,judge:!1}},methods:{changeBtn:function(t){if("number"==typeof t)this.judge=t>4,this.currentPage=t,t==this.pagebtns[4]?(this.pagebtns.shift(),this.pagebtns.splice(4,0,this.pagebtns[3]+1)):t==this.pagebtns[0]&&t>1&&(this.pagebtns.unshift(this.pagebtns[0]-1),this.pagebtns.splice(5,1)),this.$emit("handleList",this.currentPage);else switch(t.target.innerText){case"上一页":this.$refs["btn".concat(this.currentPage)][0].previousElementSibling.click();break;case"下一页":this.$refs["btn".concat(this.currentPage)][0].nextElementSibling.click();break}}}}),g=m,b=(e("64d0"),Object(u["a"])(g,v,h,!1,null,"204d3ac6",null)),C=b.exports,y={name:"Postlist",components:{Pagination:C},data:function(){return{posts:[],isLoading:!0,postpage:1}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{page:this.postpage,limit:30}}).then((function(a){t.posts=a.data.data,t.isLoading=!1})).catch((function(t){console.log(t)}))},renderList:function(t){this.postpage=t,this.getData()}},beforeMount:function(){this.getData()}},j=y,k=(e("b5fb"),Object(u["a"])(j,_,d,!1,null,"2c60fb94",null)),w=k.exports,$={name:"App",components:{Header:f,Postlist:w}},P=$,D=(e("034f"),Object(u["a"])(P,n,r,!1,null,null,null)),x=D.exports,I=e("8c4f"),O=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.isLoading?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("cf1c")}})]):s("div",{staticClass:"article-wrapper"},[s("div",{staticClass:"article-topic panel"},[s("div",{staticClass:"article-header"},[s("div",{staticClass:"topic-title-wrapper"},[s("span",{class:[{put_top:1==t.post.top,put_good:1==t.post.good,put_tab:1!=t.post.top&&1!=t.post.good}]},[t._v(t._s(t._f("formatType")(t.post)))]),s("span",{staticClass:"topic-title"},[t._v(" "+t._s(t.post.title)+" ")])]),s("div",{staticClass:"article-information"},[s("span",[t._v("• 发布于 "+t._s(t._f("formatDate")(t.post.create_at))+" ")]),s("span",[t._v("• 作者 "+t._s(t.post.author.loginname)+" ")]),s("span",[t._v(t._s(t.post.visit_count)+" 次浏览")]),s("span",[t._v("• 来自 "+t._s(t._f("formatType")(t.post)))])])]),s("div",{staticClass:"inner-topic markdown-body",domProps:{innerHTML:t._s(t.post.content)}})]),s("div",{staticClass:"reply-wrapper panel"},[s("div",{staticClass:"reply-top"},[t._v(t._s(t.post.reply_count)+"回复")]),t._l(t.post.replies,(function(a,e){return s("div",{staticClass:"reply-content"},[s("router-link",{attrs:{to:{name:"user_info",params:{id:a.id,name:a.author.loginname}}}},[s("img",{staticClass:"author-photo",attrs:{src:a.author.avatar_url}})]),s("span",{staticClass:"reply-name"},[t._v(t._s(a.author.loginname))]),s("span",{staticClass:"reply-time"},[t._v(t._s(e+1)+"楼 • "+t._s(t._f("formatDate")(a.create_at)))]),a.ups.length>0?s("span",{staticClass:"praise"},[t._v(t._s(a.ups.length)+"👍")]):t._e(),s("div",{staticClass:"reply-text markdown-body",domProps:{innerHTML:t._s(a.content)}})],1)}))],2)])])},E=[],L={name:"Article",data:function(){return{isLoading:!0,post:{}}},methods:{getArticleData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.id)).then((function(a){1==a.data.success&&(t.isLoading=!1,t.post=a.data.data)})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.getArticleData()},watch:{$route:function(t,a){this.getArticleData()}}},T=L,M=(e("7703"),Object(u["a"])(T,O,E,!1,null,null,null)),S=M.exports,A=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.isLoading?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("cf1c")}})]):s("div",{staticClass:"user-main"},[s("section",{staticClass:"homePage panel"},[s("header",{staticClass:"header"},[s("router-link",{staticClass:"homePage",attrs:{to:{name:"root"}}},[t._v("主页")]),s("span",{staticClass:"divider"},[t._v("/")])],1),s("div",{staticClass:"page-content"},[s("div",[s("img",{staticClass:"user_avatar",attrs:{src:t.userInfo.avatar_url}}),s("span",{staticClass:"login-name"},[t._v(t._s(t.userInfo.githubUsername))])]),s("div",{staticClass:"information"},[s("ul",[s("li",{staticClass:"score"},[t._v(t._s(t.userInfo.score)+" 积分")]),s("li",{staticClass:"create-time"},[t._v("注册时间 "+t._s(t._f("formatDate")(t.userInfo.create_at)))])])])])]),s("section",{staticClass:"latest_create panel"},[s("header",{staticClass:"header create_topic"},[t._v("最近创建的话题")]),s("ul",t._l(t.userInfo.recent_topics,(function(a,e){return e<5?s("li",{staticClass:"inner"},[s("img",{staticClass:"user_avatar photo",attrs:{src:t.userInfo.avatar_url}}),s("router-link",{attrs:{to:{name:"post_content",params:{id:a.id}}}},[s("span",{staticClass:"create-title"},[t._v(t._s(a.title))])]),s("span",{staticClass:"last-create"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1):t._e()})),0)]),s("section",{staticClass:"latest-join panel"},[s("header",{staticClass:"header join-topic"},[t._v("最近参与的话题")]),s("ul",t._l(t.userInfo.recent_replies,(function(a,e){return e<5?s("li",{staticClass:"inner"},[s("img",{staticClass:"user_avatar photo",attrs:{src:a.author.avatar_url}}),s("router-link",{attrs:{to:{name:"post_content",params:{id:a.id}}}},[s("span",{staticClass:"join-title"},[t._v(t._s(a.title))])]),s("span",{staticClass:"last-join"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1):t._e()})),0)])])])},B=[],U=(e("b0c0"),{name:"UserInfo",data:function(){return{isLoading:!0,userInfo:{}}},methods:{getUserData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then((function(a){t.userInfo=a.data.data,t.isLoading=!1})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.getUserData()}}),H=U,J=(e("0180"),Object(u["a"])(H,A,B,!1,null,"01712bca",null)),F=J.exports,q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sidebar"},[e("section",{staticClass:"sidebar-panel"},[e("header",{staticClass:"header"},[t._v("作者")]),e("div",{staticClass:"inner"},[e("div",{staticClass:"user-card"},[e("router-link",{attrs:{to:{name:"user_info",params:{name:t.userinfo.loginname}}}},[e("span",[e("img",{attrs:{src:t.userinfo.avatar_url}})])]),e("span",{staticClass:"user-name"},[t._v(t._s(t.userinfo.loginname))]),e("div",{staticClass:"score"},[t._v(" 积分："+t._s(t.userinfo.score)+" ")]),e("div",{staticClass:"motto"})],1)])]),e("section",{staticClass:"sidebar-panel"},[e("header",{staticClass:"header"},[t._v("作者参与的话题")]),e("div",{staticClass:"inner"},[e("ul",t._l(t.userinfo.recent_replies,(function(a,s){return s<5?e("li",[e("router-link",{attrs:{to:{name:"post_content",params:{id:a.id}}}},[e("span",{staticClass:"create-title"},[t._v(t._s(a.title))])])],1):t._e()})),0)])]),e("section",{staticClass:"sidebar-panel"},[e("header",{staticClass:"header"},[t._v("作者创建的话题")]),e("div",{staticClass:"inner"},[e("ul",t._l(t.userinfo.recent_topics,(function(a,s){return s<5?e("li",[e("router-link",{attrs:{to:{name:"post_content",params:{id:a.id}}}},[e("span",{staticClass:"create-title"},[t._v(t._s(a.title))])])],1):t._e()})),0)])])])},z=[],G={name:"SlideBar",data:function(){return{userinfo:{}}},methods:{getUserData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then((function(a){1==a.data.success&&(t.userinfo=a.data.data)})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.getUserData()}},K=G,N=(e("e0cf"),Object(u["a"])(K,q,z,!1,null,"18b71854",null)),Q=N.exports;s["a"].use(I["a"]);var R=new I["a"]({routes:[{name:"root",path:"/",components:{main:w}},{name:"post_content",path:"/topic/:id&&author=:name",components:{main:S,slidebar:Q}},{name:"user_info",path:"/userinfo/:name",components:{main:F}}]}),V=e("bc3a"),W=e.n(V);s["a"].config.productionTip=!1,s["a"].prototype.$http=W.a,s["a"].filter("formatDate",(function(t){if(!t)return"";var a=new Date(t),e=(new Date).getTime()-a.getTime();return e<0?"":e/1e3<30?"刚刚":e/1e3<60?parseInt(e/1e3)+"秒前":e/6e4<60?parseInt(e/6e4)+"分钟前":e/36e5<24?parseInt(e/36e5)+"小时前":e/864e5<30?parseInt(e/864e5)+"天前":e/2592e6<12?parseInt(e/2592e6)+"个月前":parseInt(e/321408e5)+"年前"})),s["a"].filter("formatType",(function(t){return 1==t.good?"精华":1==t.top?"置顶":"ask"==t.tab?"问答":"share"==t.tab?"分享":"招聘"})),new s["a"]({el:"#app",router:R,components:{App:x},render:function(t){return t(x)}})},"64d0":function(t,a,e){"use strict";var s=e("02a2"),n=e.n(s);n.a},"65aa":function(t,a,e){"use strict";var s=e("5464"),n=e.n(s);n.a},7703:function(t,a,e){"use strict";var s=e("e6ad"),n=e.n(s);n.a},"7ef5":function(t,a,e){},"85ec":function(t,a,e){},b5fb:function(t,a,e){"use strict";var s=e("b70e"),n=e.n(s);n.a},b70e:function(t,a,e){},c261:function(t,a,e){},cf1c:function(t,a,e){t.exports=e.p+"img/loading.078fcd09.gif"},d686:function(t,a,e){t.exports=e.p+"img/cnodejs_light.e2b40b75.svg"},e0cf:function(t,a,e){"use strict";var s=e("c261"),n=e.n(s);n.a},e6ad:function(t,a,e){}});
//# sourceMappingURL=app.5884c381.js.map